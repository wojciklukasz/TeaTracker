{% extends "base.html" %}
{% load static %}

{% block css_files %}
    <link rel="stylesheet" href="{% static "tea/main-page.css" %}">
{% endblock %}

{% block title %}Strona główna{% endblock title %}

{% block content %}
    <main id="main-content">
        <article id="most-recent-teas">
            <h2>Ostatnio dodane herbaty</h2>
            {% if teas.recent %}
                <ul id="recent-teas-list">
                    {% for tea in teas.recent %}
                        <li>
                            <a href="{% url "tea-detail" slug=tea.slug %}">
                                {% if tea.image_set.first.image.url %}
                                    <img class="tea-image" src="{{ tea.image_set.first.image.url }}" alt="Zdjęcie herbaty"/>
                                {% else %}
                                    <img class="tea-image" src="{% static "images/default_tea.png" %}" alt="Rysunek liści herbaty, brak zdjęć"/>
                                {% endif %}
                                <h3>{{ tea.name }}</h3>
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Brak nowych herbat.</p>
                <p>Dodaj herbaty przyciskiem w górnym pasku.</p>
            {% endif %}
        </article>
        <article id="random-teas">
            <h2>Losowe herbaty</h2>
            {% if teas.random %}
                <ul id="random-teas-list">
                    {% for tea in teas.random %}
                    <li>
                        <a href="{% url "tea-detail" slug=tea.slug %}">
                            {% if tea.image_set.first.image.url %}
                            <img class="tea-image" src="{{ tea.image_set.first.image.url }}" alt="Zdjęcie herbaty"/>
                            {% else %}
                            <img class="tea-image" src="{% static "images/default_tea.png" %}" alt="Rysunek liści herbaty, brak zdjęć"/>
                            {% endif %}
                            <h3>{{ tea.name }}</h3>
                        </a>
                    </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Brak herbat do wyświetlenia.</p>
            {% endif %}
            </article>
            <article id="last-viewed-teas">
            <h2>Ostatnio oglądane</h2>
            {% if teas.recent %}
                <ul id="last-viewed-teas-list">
                    {% for tea in teas.last_viewed %}
                        <li>
                            <a href="{% url "tea-detail" slug=tea.slug %}">
                                {% if tea.image_set.first.image.url %}
                                    <img class="tea-image" src="{{ tea.image_set.first.image.url }}" alt="Zdjęcie herbaty"/>
                                {% else %}
                                    <img class="tea-image" src="{% static "images/default_tea.png" %}" alt="Rysunek liści herbaty, brak zdjęć"/>
                                {% endif %}
                                <h3>{{ tea.name }}</h3>
                            </a>
                        </li>
                    {% endfor %}
            {% else %}
                <p>Brak herbat do wyświetlenia.</p>
            {% endif %}
            </ul>
        </article>
    </main>
{% endblock  %}